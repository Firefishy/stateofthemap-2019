var vrnGeoJSON = {
"type": "FeatureCollection",
"name": "vrn-line",
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
"features": [
{ "type": "Feature", "properties": {"vrn_type": "vrn_ext_line", "label": "Your ticket is valid on the railway line (Lauda–)–Wittighausen–Würzburg Hbf if your trip starts or ends in the VRN core area." }, "geometry": { "type": "MultiLineString", "coordinates": [ [ [ 9.84660, 49.61858 ], [ 9.85283, 49.62120 ], [ 9.85512, 49.62333 ], [ 9.85520, 49.62882 ], [ 9.85471, 49.63332 ], [ 9.85160, 49.64241 ], [ 9.85291, 49.65085 ], [ 9.85471, 49.65397 ], [ 9.85758, 49.65626 ], [ 9.86151, 49.65831 ], [ 9.86487, 49.66519 ], [ 9.86397, 49.66871 ], [ 9.86536, 49.67420 ], [ 9.86692, 49.67608 ], [ 9.87044, 49.67748 ], [ 9.87454, 49.67682 ], [ 9.87806, 49.67436 ], [ 9.88281, 49.67002 ], [ 9.88764, 49.66937 ], [ 9.89297, 49.66986 ], [ 9.89706, 49.67248 ], [ 9.90075, 49.67543 ], [ 9.90427, 49.68362 ], [ 9.90329, 49.69058 ], [ 9.90640, 49.69386 ], [ 9.91132, 49.69501 ], [ 9.91951, 49.69648 ], [ 9.92836, 49.70484 ], [ 9.92885, 49.70778 ], [ 9.92762, 49.71000 ], [ 9.91672, 49.71860 ], [ 9.91287, 49.72867 ], [ 9.91263, 49.73105 ], [ 9.91427, 49.73310 ], [ 9.92410, 49.74235 ], [ 9.93032, 49.74457 ], [ 9.94154, 49.75374 ], [ 9.94269, 49.76136 ], [ 9.94138, 49.76431 ], [ 9.93925, 49.76717 ], [ 9.93991, 49.76947 ], [ 9.94318, 49.77373 ], [ 9.94294, 49.77659 ], [ 9.94064, 49.78397 ], [ 9.94097, 49.78602 ], [ 9.94376, 49.78823 ], [ 9.94703, 49.79060 ], [ 9.95170, 49.79519 ], [ 9.95137, 49.79765 ], [ 9.94982, 49.79945 ], [ 9.94580, 49.80060 ], [ 9.93581, 49.80215 ] ] ] } },
{ "type": "Feature", "properties": {"vrn_type": "vrn_ext_line", "label": "Your ticket is valid on the bus line (Tauberbischofsheim–)Kist–Würzburg Hbf if your trip starts or ends in the VRN core area." }, "geometry": { "type": "MultiLineString", "coordinates": [ [ [ 9.78519, 49.70650 ], [ 9.80190, 49.71928 ], [ 9.81010, 49.72037 ], [ 9.83128, 49.72791 ], [ 9.84494, 49.74407 ], [ 9.84537, 49.74953 ], [ 9.85258, 49.76046 ], [ 9.84461, 49.76035 ], [ 9.83565, 49.75860 ], [ 9.82200, 49.75947 ], [ 9.80027, 49.75795 ], [ 9.78803, 49.76909 ], [ 9.78563, 49.77433 ], [ 9.79721, 49.77706 ], [ 9.79928, 49.77881 ], [ 9.80791, 49.77968 ], [ 9.82440, 49.78645 ], [ 9.83183, 49.78722 ], [ 9.84712, 49.79191 ], [ 9.85411, 49.79006 ], [ 9.86416, 49.79169 ], [ 9.87159, 49.79028 ], [ 9.88131, 49.78514 ], [ 9.89573, 49.78547 ], [ 9.90195, 49.78875 ], [ 9.91582, 49.79159 ], [ 9.91724, 49.79890 ], [ 9.92642, 49.79945 ], [ 9.93324, 49.80054 ], [ 9.93554, 49.80043 ], [ 9.93597, 49.80114 ] ] ] } },
{ "type": "Feature", "properties": {"vrn_type": "vrn_ext_line", "label": "Your ticket is valid on the bus line 980 if you trip starts or ends in the VRN core area." }, "geometry": { "type": "MultiLineString", "coordinates": [ [ [ 10.07054, 49.45332 ], [ 10.10691, 49.44557 ], [ 10.11139, 49.44830 ], [ 10.12329, 49.44688 ], [ 10.13793, 49.44011 ], [ 10.15191, 49.41542 ], [ 10.15879, 49.39937 ], [ 10.16687, 49.39762 ], [ 10.16785, 49.39489 ], [ 10.16611, 49.39205 ], [ 10.16982, 49.38582 ], [ 10.17200, 49.38757 ], [ 10.17179, 49.38440 ], [ 10.17725, 49.38080 ], [ 10.18577, 49.38036 ], [ 10.19024, 49.37643 ] ] ] } },
{ "type": "Feature", "properties": {"vrn_type": "vrn_ext_line", "label": "Your ticket is valid on the bus line 980 if you trip starts or ends in the VRN core area." }, "geometry": { "type": "MultiLineString", "coordinates": [ [ [ 10.13779, 49.38932 ], [ 10.15101, 49.38834 ], [ 10.16187, 49.38238 ], [ 10.16952, 49.38206 ], [ 10.17143, 49.38156 ], [ 10.17165, 49.38277 ], [ 10.16996, 49.38577 ] ] ] } },
{ "type": "Feature", "properties": {"vrn_type": "vrn_ext_line", "label": "Your ticket is also valid on the railway line between Bruchmühlbach-Miesau and Homburg (Saar)." }, "geometry": { "type": "MultiLineString", "coordinates": [ [ [ 7.44392, 49.38533 ], [ 7.39799, 49.37184 ], [ 7.33574, 49.32684 ] ] ] } },
{ "type": "Feature", "properties": {"vrn_type": "vrn_ext_line", "label": "Your ticket is valid on the railway line Reihen–Eppingen if your trip starts or ends in the VRN area." }, "geometry": { "type": "MultiLineString", "coordinates": [ [ [ 8.91958, 49.21751 ], [ 8.93235, 49.20812 ], [ 8.93443, 49.20451 ], [ 8.93694, 49.19217 ], [ 8.93432, 49.18846 ], [ 8.93672, 49.17972 ], [ 8.93345, 49.17393 ], [ 8.93683, 49.16781 ], [ 8.94066, 49.15383 ], [ 8.93716, 49.14837 ], [ 8.93126, 49.14641 ], [ 8.92449, 49.13942 ], [ 8.91521, 49.13592 ] ] ] } },
{"type": "Feature", "properties": {"vrn_type": "vrn_core", "label": "VRN area – your ticket is valid in all buses, trams and all S, RB and RE trains in this area."}, "geometry": {"type": "MultiPolygon", "coordinates": [[[[9.86305, 49.60894], [9.84298, 49.58976], [9.81115, 49.55814], [9.83678, 49.55117], [9.91131, 49.58594], [9.92849, 49.48408], [10.01486, 49.48493], [10.04534, 49.51283], [10.06494, 49.54732], [10.09041, 49.53840], [10.07937, 49.51761], [10.11075, 49.51196], [10.10525, 49.47456], [10.09265, 49.44548], [10.13433, 49.43060], [10.15937, 49.38986], [10.14346, 49.38456], [10.10972, 49.38604], [10.11110, 49.39347], [10.06844, 49.39273], [9.95728, 49.36144], [9.76460, 49.39736], [9.73250, 49.38419], [9.65690, 49.41415], [9.58432, 49.42299], [9.58734, 49.39424], [9.57221, 49.37692], [9.51735, 49.38042], [9.46907, 49.39601], [9.38547, 49.30944], [9.32552, 49.28567], [9.21369, 49.25129], [9.20403, 49.22710], [8.97040, 49.17256], [8.93411, 49.20928], [8.87249, 49.19885], [8.86000, 49.20097], [8.85363, 49.18416], [8.82543, 49.18376], [8.81499, 49.20204], [8.75668, 49.20405], [8.72491, 49.23501], [8.69033, 49.22878], [8.48727, 49.28929], [8.46214, 49.28165], [8.40262, 49.24486], [8.34512, 49.28748], [8.27274, 49.28185], [8.23173, 49.26074], [8.21906, 49.18977], [8.26450, 49.15278], [8.26390, 49.12966], [8.21203, 49.11277], [8.13241, 49.12764], [8.10265, 49.09638], [8.06546, 49.07236], [8.06646, 48.99756], [7.93097, 49.03012], [7.91018, 49.04487], [7.84800, 49.03723], [7.75760, 49.04487], [7.72195, 49.05421], [7.52588, 49.10301], [7.50826, 49.12339], [7.49320, 49.16837], [7.44153, 49.17538], [7.44004, 49.18376], [7.36566, 49.17050], [7.30264, 49.20519], [7.30391, 49.25315], [7.32768, 49.25888], [7.33659, 49.26206], [7.38667, 49.29453], [7.39176, 49.35352], [7.40046, 49.37156], [7.32916, 49.37899], [7.29373, 49.39214], [7.26996, 49.42418], [7.25044, 49.43161], [7.24683, 49.44456], [7.30518, 49.47151], [7.28312, 49.49082], [7.28651, 49.51692], [7.30264, 49.53389], [7.27548, 49.54047], [7.27526, 49.54938], [7.33595, 49.56530], [7.52736, 49.70111], [7.66466, 49.69305], [7.65405, 49.64933], [7.68503, 49.63681], [7.73553, 49.69899], [7.73171, 49.72021], [7.76715, 49.74695], [7.94647, 49.75416], [7.97978, 49.70832], [8.08164, 49.76880], [8.16164, 49.76286], [8.16524, 49.73124], [8.24355, 49.76774], [8.30445, 49.76477], [8.31676, 49.80742], [8.40143, 49.79872], [8.51262, 49.70811], [8.55931, 49.75098], [8.59644, 49.73103], [8.62129, 49.70342], [8.65217, 49.69639], [8.68273, 49.73526], [8.68085, 49.74465], [8.71624, 49.76020], [8.77334, 49.74947], [8.81006, 49.69693], [8.83312, 49.66959], [8.86957, 49.65189], [8.88351, 49.48086], [8.89879, 49.46424], [9.04127, 49.49849], [9.04302, 49.50653], [9.04918, 49.51364], [9.05099, 49.52107], [9.17398, 49.57737], [9.25950, 49.59261], [9.30505, 49.65421], [9.38238, 49.64405], [9.41973, 49.65552], [9.41777, 49.69058], [9.34961, 49.71450], [9.32143, 49.74227], [9.32356, 49.74809], [9.31881, 49.75480], [9.31865, 49.76939], [9.35535, 49.76971], [9.37009, 49.77938], [9.39745, 49.77299], [9.41744, 49.78692], [9.42661, 49.78921], [9.43808, 49.78135], [9.44857, 49.77086], [9.46446, 49.77021], [9.46970, 49.77479], [9.47937, 49.78708], [9.50296, 49.78855], [9.51315, 49.78198], [9.50926, 49.77032], [9.51301, 49.76402], [9.52146, 49.76040], [9.53942, 49.76804], [9.57373, 49.78372], [9.64785, 49.79136], [9.63928, 49.72287], [9.71045, 49.72126], [9.72667, 49.68936], [9.79529, 49.72380], [9.85012, 49.64244], [9.86305, 49.60894]]]]}},
{"type": "Feature", "properties": {"vrn_type": "vrn_kvv", "label": "Your ticket is only valid for journeys if either the start or the destination is located there. You have to buy a KVV ticket for trips within this area."}, "geometry": {"type": "MultiPolygon", "coordinates": [[[[8.76422, 49.15368], [8.71583, 49.18210], [8.52027, 49.20890], [8.38651, 49.21319], [8.35796, 49.09712], [8.31373, 49.05758], [8.30273, 49.03774], [8.28745, 48.99686], [8.23384, 48.96844], [8.19577, 48.97273], [8.18384, 48.96616], [8.18143, 48.96670], [8.18505, 48.97179], [8.19410, 48.97716], [8.18217, 48.97789], [8.13673, 48.97997], [8.06596, 48.99954], [8.06529, 49.07246], [8.10242, 49.09658], [8.13231, 49.12754], [8.21259, 49.11280], [8.26380, 49.12942], [8.26460, 49.15274], [8.21876, 49.18974], [8.23163, 49.26051], [8.27237, 49.28142], [8.34583, 49.28705], [8.40293, 49.24442], [8.46244, 49.28169], [8.48744, 49.28973], [8.69050, 49.22847], [8.72495, 49.23464], [8.75645, 49.20381], [8.81502, 49.20260], [8.82561, 49.18357], [8.76422, 49.15368]]]]}},
{"type": "Feature", "properties": {"vrn_type": "vrn_hnv", "label": "Your ticket is not valid for trips within this area and from this area to Bad Mergentheim."}, "geometry": {"type": "MultiPolygon", "coordinates": [[[[9.73230, 49.38399], [9.71219, 49.37615], [9.67500, 49.38017], [9.65871, 49.35323], [9.58694, 49.39424], [9.58442, 49.42314], [9.65630, 49.41415], [9.73230, 49.38399]]]]}}
]
};

var vrnCoreStyle = {
    "stroke": false,
    "fillOpacity": 0.5,
    "fillColor": "blue"
}
var vrnExtAreaStyle = {
    "stroke": false,
    "fillOpacity": 0.5,
    "fillColor": "green"
}
var vrnExtLineStyle = {
    "color": "blue"
}

function load_map() {
    var map = L.map('vrn_map').fitBounds([
        [48.94, 7.24],
        [49.8, 10.22]
    ]);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, map tiles © <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA 2.0</a>',
      maxZoom: 19
    }).addTo(map);

    L.geoJSON(vrnGeoJSON, {
        style: function(feature) {
            if (feature.properties.vrn_type === "vrn_core") {
                return vrnCoreStyle;
            }
            if (feature.properties.vrn_type === "vrn_kvv" || feature.properties.vrn_type == "vrn_hnv") {
                return vrnExtAreaStyle;
            }
            if (feature.properties.vrn_type === "vrn_ext_line") {
                return vrnExtLineStyle;
            }
        }
    }).bindPopup(function(layer) {
        return layer.feature.properties.label;
    }).addTo(map);

    map.scrollWheelZoom.disable();
}

document.addEventListener('DOMContentLoaded', load_map, false);
